---
- file:
    dest: '{{app.value.checkout_root}}/.gitignore'
    state: touch
  become_user: "{{app.value.owner}}"
- lineinfile:
    line: '{{item.key}}'
    path: '{{app.value.checkout_root}}/.gitignore'
    regexp: '{{item.value}}'
  with_dict:
    .carton: '^\.carton$'
    .tidyall.d/: '^\.tidyall.d\/$'
    .vagrant: '^\.vagrant$'
    ansible/site.retry: '^ansible\/site\.retry$'
    ansible/tasks/roles: '^ansible\/tasks\/roles$'
    bin/carton: '^bin\/carton$'
    bin/carton-exec: '^bin\/carton-exec$'
    seed-cpanfile: '^seed-cpanfile$'
    tidyall.ERR: '^tidyall\.ERR$'
  become_user: "{{app.value.owner}}"
